# This scenario generates export for a single cluster.
# All manifests are generated as plain Kustomize's "resources".
clusters:
  # if only one cluster is specified, all resources will be put at the root
  # folder instead of the per-cluster "overlays" directories.
  - names: ["dev-cluster-a"]
# "namespaces" allow exporting resources from multiple namespaces, which may be
# specified by name or via a shell-like pattern. If not set, will use the
# current namespace from KUBECONFIG.
namespaces: ["my*app"]
# "clusterResources" specify non-namespaced resources to export. If not set,
# only namespaced resources will be exported.
clusterResources:
  - "namespaces"
  - "customresourcedefinitions.apiextensions.k8s.io"
# "labelSelectors" allow limiting the exported resources similar to kubectl's
# "-l" flag. This is applied at API query time and thus reduces both the API
# load and the processing time.
labelSelectors: ["skip-me!=yes"]
skip:
  # "skip" can be used to remove specific fields or resources.
  #
  # TODO: add examples for these filters:
  # - "excluding"
  # - "labelSelector" and "annotationSelector"
  # - namespaced resources
  #
  # TODO: explain the "fields" syntax
  # (subject to change: switch to RFC6901 NodePath instead of "."-notation)
  - resources:
      - kind: Namespace
        name: myapp
    fields:
      - "metadata.labels.[my.escaped/label]"
  - fields:
      - "metadata.annotations.ignored-annotation"
      - "metadata.labels.ignored-label"
